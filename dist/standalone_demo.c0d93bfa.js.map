{"mappings":"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","sources":["../../.npm/_npx/b4a9aa12c0cf34a6/node_modules/@parcel/runtime-browser-hmr/lib/runtime-2867db4f4fdde376.js","examples/js/utils/Controls.js","src/PortalMesh.js","src/PortalMaterial.js"],"sourcesContent":["var HMR_HOST = null;var HMR_PORT = null;var HMR_SECURE = false;var HMR_ENV_HASH = \"d6ea1d42532a7575\";module.bundle.HMR_BUNDLE_ID = \"00b47e26c0d93bfa\";\"use strict\";\n\n/* global HMR_HOST, HMR_PORT, HMR_ENV_HASH, HMR_SECURE, chrome, browser, __parcel__import__, __parcel__importScripts__, ServiceWorkerGlobalScope */\n/*::\nimport type {\n  HMRAsset,\n  HMRMessage,\n} from '@parcel/reporter-dev-server/src/HMRServer.js';\ninterface ParcelRequire {\n  (string): mixed;\n  cache: {|[string]: ParcelModule|};\n  hotData: {|[string]: mixed|};\n  Module: any;\n  parent: ?ParcelRequire;\n  isParcelRequire: true;\n  modules: {|[string]: [Function, {|[string]: string|}]|};\n  HMR_BUNDLE_ID: string;\n  root: ParcelRequire;\n}\ninterface ParcelModule {\n  hot: {|\n    data: mixed,\n    accept(cb: (Function) => void): void,\n    dispose(cb: (mixed) => void): void,\n    // accept(deps: Array<string> | string, cb: (Function) => void): void,\n    // decline(): void,\n    _acceptCallbacks: Array<(Function) => void>,\n    _disposeCallbacks: Array<(mixed) => void>,\n  |};\n}\ninterface ExtensionContext {\n  runtime: {|\n    reload(): void,\n    getURL(url: string): string;\n    getManifest(): {manifest_version: number, ...};\n  |};\n}\ndeclare var module: {bundle: ParcelRequire, ...};\ndeclare var HMR_HOST: string;\ndeclare var HMR_PORT: string;\ndeclare var HMR_ENV_HASH: string;\ndeclare var HMR_SECURE: boolean;\ndeclare var chrome: ExtensionContext;\ndeclare var browser: ExtensionContext;\ndeclare var __parcel__import__: (string) => Promise<void>;\ndeclare var __parcel__importScripts__: (string) => Promise<void>;\ndeclare var globalThis: typeof self;\ndeclare var ServiceWorkerGlobalScope: Object;\n*/\nvar OVERLAY_ID = '__parcel__error__overlay__';\nvar OldModule = module.bundle.Module;\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData[moduleName],\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n  module.bundle.hotData[moduleName] = undefined;\n}\nmodule.bundle.Module = Module;\nmodule.bundle.hotData = {};\nvar checkedAssets /*: {|[string]: boolean|} */, assetsToDispose /*: Array<[ParcelRequire, string]> */, assetsToAccept /*: Array<[ParcelRequire, string]> */;\n\nfunction getHostname() {\n  return HMR_HOST || (location.protocol.indexOf('http') === 0 ? location.hostname : 'localhost');\n}\nfunction getPort() {\n  return HMR_PORT || location.port;\n}\n\n// eslint-disable-next-line no-redeclare\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = getHostname();\n  var port = getPort();\n  var protocol = HMR_SECURE || location.protocol == 'https:' && !['localhost', '127.0.0.1', '0.0.0.0'].includes(hostname) ? 'wss' : 'ws';\n  var ws;\n  try {\n    ws = new WebSocket(protocol + '://' + hostname + (port ? ':' + port : '') + '/');\n  } catch (err) {\n    if (err.message) {\n      console.error(err.message);\n    }\n    ws = {};\n  }\n\n  // Web extension context\n  var extCtx = typeof browser === 'undefined' ? typeof chrome === 'undefined' ? null : chrome : browser;\n\n  // Safari doesn't support sourceURL in error stacks.\n  // eval may also be disabled via CSP, so do a quick check.\n  var supportsSourceURL = false;\n  try {\n    (0, eval)('throw new Error(\"test\"); //# sourceURL=test.js');\n  } catch (err) {\n    supportsSourceURL = err.stack.includes('test.js');\n  }\n\n  // $FlowFixMe\n  ws.onmessage = async function (event /*: {data: string, ...} */) {\n    checkedAssets = {} /*: {|[string]: boolean|} */;\n    assetsToAccept = [];\n    assetsToDispose = [];\n    var data /*: HMRMessage */ = JSON.parse(event.data);\n    if (data.type === 'update') {\n      // Remove error overlay if there is one\n      if (typeof document !== 'undefined') {\n        removeErrorOverlay();\n      }\n      let assets = data.assets.filter(asset => asset.envHash === HMR_ENV_HASH);\n\n      // Handle HMR Update\n      let handled = assets.every(asset => {\n        return asset.type === 'css' || asset.type === 'js' && hmrAcceptCheck(module.bundle.root, asset.id, asset.depsByBundle);\n      });\n      if (handled) {\n        console.clear();\n\n        // Dispatch custom event so other runtimes (e.g React Refresh) are aware.\n        if (typeof window !== 'undefined' && typeof CustomEvent !== 'undefined') {\n          window.dispatchEvent(new CustomEvent('parcelhmraccept'));\n        }\n        await hmrApplyUpdates(assets);\n\n        // Dispose all old assets.\n        let processedAssets = {} /*: {|[string]: boolean|} */;\n        for (let i = 0; i < assetsToDispose.length; i++) {\n          let id = assetsToDispose[i][1];\n          if (!processedAssets[id]) {\n            hmrDispose(assetsToDispose[i][0], id);\n            processedAssets[id] = true;\n          }\n        }\n\n        // Run accept callbacks. This will also re-execute other disposed assets in topological order.\n        processedAssets = {};\n        for (let i = 0; i < assetsToAccept.length; i++) {\n          let id = assetsToAccept[i][1];\n          if (!processedAssets[id]) {\n            hmrAccept(assetsToAccept[i][0], id);\n            processedAssets[id] = true;\n          }\n        }\n      } else fullReload();\n    }\n    if (data.type === 'error') {\n      // Log parcel errors to console\n      for (let ansiDiagnostic of data.diagnostics.ansi) {\n        let stack = ansiDiagnostic.codeframe ? ansiDiagnostic.codeframe : ansiDiagnostic.stack;\n        console.error('üö® [parcel]: ' + ansiDiagnostic.message + '\\n' + stack + '\\n\\n' + ansiDiagnostic.hints.join('\\n'));\n      }\n      if (typeof document !== 'undefined') {\n        // Render the fancy html overlay\n        removeErrorOverlay();\n        var overlay = createErrorOverlay(data.diagnostics.html);\n        // $FlowFixMe\n        document.body.appendChild(overlay);\n      }\n    }\n  };\n  ws.onerror = function (e) {\n    if (e.message) {\n      console.error(e.message);\n    }\n  };\n  ws.onclose = function () {\n    console.warn('[parcel] üö® Connection to the HMR server was lost');\n  };\n}\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n    console.log('[parcel] ‚ú® Error resolved');\n  }\n}\nfunction createErrorOverlay(diagnostics) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n  let errorHTML = '<div style=\"background: black; opacity: 0.85; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; font-family: Menlo, Consolas, monospace; z-index: 9999;\">';\n  for (let diagnostic of diagnostics) {\n    let stack = diagnostic.frames.length ? diagnostic.frames.reduce((p, frame) => {\n      return `${p}\n<a href=\"/__parcel_launch_editor?file=${encodeURIComponent(frame.location)}\" style=\"text-decoration: underline; color: #888\" onclick=\"fetch(this.href); return false\">${frame.location}</a>\n${frame.code}`;\n    }, '') : diagnostic.stack;\n    errorHTML += `\n      <div>\n        <div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">\n          üö® ${diagnostic.message}\n        </div>\n        <pre>${stack}</pre>\n        <div>\n          ${diagnostic.hints.map(hint => '<div>üí° ' + hint + '</div>').join('')}\n        </div>\n        ${diagnostic.documentation ? `<div>üìù <a style=\"color: violet\" href=\"${diagnostic.documentation}\" target=\"_blank\">Learn more</a></div>` : ''}\n      </div>\n    `;\n  }\n  errorHTML += '</div>';\n  overlay.innerHTML = errorHTML;\n  return overlay;\n}\nfunction fullReload() {\n  if ('reload' in location) {\n    location.reload();\n  } else if (extCtx && extCtx.runtime && extCtx.runtime.reload) {\n    extCtx.runtime.reload();\n  }\n}\nfunction getParents(bundle, id) /*: Array<[ParcelRequire, string]> */{\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n  var parents = [];\n  var k, d, dep;\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || Array.isArray(dep) && dep[dep.length - 1] === id) {\n        parents.push([bundle, k]);\n      }\n    }\n  }\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n  return parents;\n}\nfunction updateLink(link) {\n  var href = link.getAttribute('href');\n  if (!href) {\n    return;\n  }\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    if (link.parentNode !== null) {\n      // $FlowFixMe\n      link.parentNode.removeChild(link);\n    }\n  };\n  newLink.setAttribute('href',\n  // $FlowFixMe\n  href.split('?')[0] + '?' + Date.now());\n  // $FlowFixMe\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      // $FlowFixMe[incompatible-type]\n      var href /*: string */ = links[i].getAttribute('href');\n      var hostname = getHostname();\n      var servedFromHMRServer = hostname === 'localhost' ? new RegExp('^(https?:\\\\/\\\\/(0.0.0.0|127.0.0.1)|localhost):' + getPort()).test(href) : href.indexOf(hostname + ':' + getPort());\n      var absolute = /^https?:\\/\\//i.test(href) && href.indexOf(location.origin) !== 0 && !servedFromHMRServer;\n      if (!absolute) {\n        updateLink(links[i]);\n      }\n    }\n    cssTimeout = null;\n  }, 50);\n}\nfunction hmrDownload(asset) {\n  if (asset.type === 'js') {\n    if (typeof document !== 'undefined') {\n      let script = document.createElement('script');\n      script.src = asset.url + '?t=' + Date.now();\n      if (asset.outputFormat === 'esmodule') {\n        script.type = 'module';\n      }\n      return new Promise((resolve, reject) => {\n        var _document$head;\n        script.onload = () => resolve(script);\n        script.onerror = reject;\n        (_document$head = document.head) === null || _document$head === void 0 || _document$head.appendChild(script);\n      });\n    } else if (typeof importScripts === 'function') {\n      // Worker scripts\n      if (asset.outputFormat === 'esmodule') {\n        return __parcel__import__(asset.url + '?t=' + Date.now());\n      } else {\n        return new Promise((resolve, reject) => {\n          try {\n            __parcel__importScripts__(asset.url + '?t=' + Date.now());\n            resolve();\n          } catch (err) {\n            reject(err);\n          }\n        });\n      }\n    }\n  }\n}\nasync function hmrApplyUpdates(assets) {\n  global.parcelHotUpdate = Object.create(null);\n  let scriptsToRemove;\n  try {\n    // If sourceURL comments aren't supported in eval, we need to load\n    // the update from the dev server over HTTP so that stack traces\n    // are correct in errors/logs. This is much slower than eval, so\n    // we only do it if needed (currently just Safari).\n    // https://bugs.webkit.org/show_bug.cgi?id=137297\n    // This path is also taken if a CSP disallows eval.\n    if (!supportsSourceURL) {\n      let promises = assets.map(asset => {\n        var _hmrDownload;\n        return (_hmrDownload = hmrDownload(asset)) === null || _hmrDownload === void 0 ? void 0 : _hmrDownload.catch(err => {\n          // Web extension fix\n          if (extCtx && extCtx.runtime && extCtx.runtime.getManifest().manifest_version == 3 && typeof ServiceWorkerGlobalScope != 'undefined' && global instanceof ServiceWorkerGlobalScope) {\n            extCtx.runtime.reload();\n            return;\n          }\n          throw err;\n        });\n      });\n      scriptsToRemove = await Promise.all(promises);\n    }\n    assets.forEach(function (asset) {\n      hmrApply(module.bundle.root, asset);\n    });\n  } finally {\n    delete global.parcelHotUpdate;\n    if (scriptsToRemove) {\n      scriptsToRemove.forEach(script => {\n        if (script) {\n          var _document$head2;\n          (_document$head2 = document.head) === null || _document$head2 === void 0 || _document$head2.removeChild(script);\n        }\n      });\n    }\n  }\n}\nfunction hmrApply(bundle /*: ParcelRequire */, asset /*:  HMRAsset */) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (asset.type === 'css') {\n    reloadCSS();\n  } else if (asset.type === 'js') {\n    let deps = asset.depsByBundle[bundle.HMR_BUNDLE_ID];\n    if (deps) {\n      if (modules[asset.id]) {\n        // Remove dependencies that are removed and will become orphaned.\n        // This is necessary so that if the asset is added back again, the cache is gone, and we prevent a full page reload.\n        let oldDeps = modules[asset.id][1];\n        for (let dep in oldDeps) {\n          if (!deps[dep] || deps[dep] !== oldDeps[dep]) {\n            let id = oldDeps[dep];\n            let parents = getParents(module.bundle.root, id);\n            if (parents.length === 1) {\n              hmrDelete(module.bundle.root, id);\n            }\n          }\n        }\n      }\n      if (supportsSourceURL) {\n        // Global eval. We would use `new Function` here but browser\n        // support for source maps is better with eval.\n        (0, eval)(asset.output);\n      }\n\n      // $FlowFixMe\n      let fn = global.parcelHotUpdate[asset.id];\n      modules[asset.id] = [fn, deps];\n    } else if (bundle.parent) {\n      hmrApply(bundle.parent, asset);\n    }\n  }\n}\nfunction hmrDelete(bundle, id) {\n  let modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (modules[id]) {\n    // Collect dependencies that will become orphaned when this module is deleted.\n    let deps = modules[id][1];\n    let orphans = [];\n    for (let dep in deps) {\n      let parents = getParents(module.bundle.root, deps[dep]);\n      if (parents.length === 1) {\n        orphans.push(deps[dep]);\n      }\n    }\n\n    // Delete the module. This must be done before deleting dependencies in case of circular dependencies.\n    delete modules[id];\n    delete bundle.cache[id];\n\n    // Now delete the orphans.\n    orphans.forEach(id => {\n      hmrDelete(module.bundle.root, id);\n    });\n  } else if (bundle.parent) {\n    hmrDelete(bundle.parent, id);\n  }\n}\nfunction hmrAcceptCheck(bundle /*: ParcelRequire */, id /*: string */, depsByBundle /*: ?{ [string]: { [string]: string } }*/) {\n  if (hmrAcceptCheckOne(bundle, id, depsByBundle)) {\n    return true;\n  }\n\n  // Traverse parents breadth first. All possible ancestries must accept the HMR update, or we'll reload.\n  let parents = getParents(module.bundle.root, id);\n  let accepted = false;\n  while (parents.length > 0) {\n    let v = parents.shift();\n    let a = hmrAcceptCheckOne(v[0], v[1], null);\n    if (a) {\n      // If this parent accepts, stop traversing upward, but still consider siblings.\n      accepted = true;\n    } else {\n      // Otherwise, queue the parents in the next level upward.\n      let p = getParents(module.bundle.root, v[1]);\n      if (p.length === 0) {\n        // If there are no parents, then we've reached an entry without accepting. Reload.\n        accepted = false;\n        break;\n      }\n      parents.push(...p);\n    }\n  }\n  return accepted;\n}\nfunction hmrAcceptCheckOne(bundle /*: ParcelRequire */, id /*: string */, depsByBundle /*: ?{ [string]: { [string]: string } }*/) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (depsByBundle && !depsByBundle[bundle.HMR_BUNDLE_ID]) {\n    // If we reached the root bundle without finding where the asset should go,\n    // there's nothing to do. Mark as \"accepted\" so we don't reload the page.\n    if (!bundle.parent) {\n      return true;\n    }\n    return hmrAcceptCheck(bundle.parent, id, depsByBundle);\n  }\n  if (checkedAssets[id]) {\n    return true;\n  }\n  checkedAssets[id] = true;\n  var cached = bundle.cache[id];\n  assetsToDispose.push([bundle, id]);\n  if (!cached || cached.hot && cached.hot._acceptCallbacks.length) {\n    assetsToAccept.push([bundle, id]);\n    return true;\n  }\n}\nfunction hmrDispose(bundle /*: ParcelRequire */, id /*: string */) {\n  var cached = bundle.cache[id];\n  bundle.hotData[id] = {};\n  if (cached && cached.hot) {\n    cached.hot.data = bundle.hotData[id];\n  }\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData[id]);\n    });\n  }\n  delete bundle.cache[id];\n}\nfunction hmrAccept(bundle /*: ParcelRequire */, id /*: string */) {\n  // Execute the module.\n  bundle(id);\n\n  // Run the accept callbacks in the new version of the module.\n  var cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      var assetsToAlsoAccept = cb(function () {\n        return getParents(module.bundle.root, id);\n      });\n      if (assetsToAlsoAccept && assetsToAccept.length) {\n        assetsToAlsoAccept.forEach(function (a) {\n          hmrDispose(a[0], a[1]);\n        });\n\n        // $FlowFixMe[method-unbinding]\n        assetsToAccept.push.apply(assetsToAccept, assetsToAlsoAccept);\n      }\n    });\n  }\n}","/**\n * Improved controls over the standard THREE.OrbitControls.\n * Adds listeners to show debug info on keypress.\n */\n\n\nimport { OrbitControls } from '../../../modules/three.js/examples/jsm/controls/OrbitControls.js';\nimport { PortalMesh } from '../../../src/PortalMesh.js';\n\n\nclass Controls {\n    constructor(camera, renderer) {\n        this.orbit_controls = new OrbitControls(camera, renderer.domElement);\n        this.orbit_controls.enableDamping = true;\n\n        this.renderer = renderer;\n        this.camera = camera;\n        this.show_debug_uvs = false;\n    }\n\n    update() {\n        this.orbit_controls.update();\n    }\n    \n    addListeners() {\n        function onWindowResize() {\n            this.camera.aspect = window.innerWidth / window.innerHeight;\n            this.camera.updateProjectionMatrix();\n            this.renderer.setSize(window.innerWidth, window.innerHeight);\n        }\n        window.addEventListener('resize', onWindowResize.bind(this), false);\n\n        window._FREEZE_ALL_PORTALS = false;\n        $(document).keydown(function(event) {\n            if (event.which == 32) {\n                // space bar: Show debug pane.\n                $('#debug_uvs').show();\n                this.show_debug_uvs = true;\n            } else if (event.which == 70) {\n                // F: freeze textures.\n                window._FREEZE_ALL_PORTALS = !window._FREEZE_ALL_PORTALS;\n            }\n        }.bind(this));\n\n        $(document).keyup(function(event) {\n            if (event.which == 32) {\n                $('#debug_uvs').hide();\n                this.show_debug_uvs = false;\n            }\n        }.bind(this));\n    }\n}\n\nclass ObjectPicker {\n    constructor(domElement) {\n        this.domElement = domElement;\n\n        this.raycaster = new THREE.Raycaster();\n        this.pickedObject = null;\n        this.pickedObjectSavedColor = 0;\n\n        this.mousedownPosition = { x: -1, y: -1 };\n        this.mousedown = false;\n        this.mobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n\n        if (this.mobile) {\n            // Mobile.\n            domElement.addEventListener('touchstart', this.pointerDown.bind(this));\n            domElement.addEventListener('touchstart', this.setPickPosition.bind(this));\n            domElement.addEventListener('touchend', this.clickHandler.bind(this));\n            domElement.addEventListener('touchmove', this.touchMove.bind(this));\n\n        } else {\n            // Desktop.\n            domElement.addEventListener('pointerdown', this.pointerDown.bind(this));\n            domElement.addEventListener('pointerdown', this.pointerDown.bind(this));\n            domElement.addEventListener('pointerup', this.clickHandler.bind(this));\n\n            domElement.addEventListener('mousemove', this.setPickPosition.bind(this));\n            domElement.addEventListener('mouseout', this.clearPickPosition.bind(this));\n            domElement.addEventListener('mouseleave', this.clearPickPosition.bind(this));\n        }\n\n        this.pickPosition = { x: 0, y: 0 };\n        this.clearPickPosition();\n    }\n\n    pointerDown(event) {\n        this.clicked = true;\n        this.mousedown = true;\n        this.mousedownPosition = { x: event.clientX, y: event.clientY };\n    }\n\n    getCanvasRelativePosition(event) {\n        const rect = this.domElement.getBoundingClientRect();\n\n        // Mobile handling.\n        if (event.touches) {\n            event = event.touches[0];\n        }\n\n        return {\n            x: (event.clientX - rect.left) * this.domElement.width / rect.width,\n            y: (event.clientY - rect.top) * this.domElement.height / rect.height,\n        };\n    }\n\n    /**\n     * Unused. TODO: fix this.\n     * @param {*} event\n     */\n    onDrag(event) {\n        console.log(\"mouse drag\");\n        const pos = this.getCanvasRelativePosition(event);\n        const del_x = pos.x - this.mousedownPosition.x;\n        const del_y = pos.y - this.mousedownPosition.y;\n        if (del_x * del_x + del_y * del_y > 10) {\n            console.log(\"dragged!\");\n            this.dragged = true;\n        }\n    }\n\n    touchMove(event) {}\n\n    /**\n     * Set picked object, mark mouse moved.\n     * @param {Event} event\n     */\n    setPickPosition(event) {\n        const pos = this.getCanvasRelativePosition(event);\n        this.pickPosition.x = (pos.x / this.domElement.width) * 2 - 1;\n        this.pickPosition.y = (pos.y / this.domElement.height) * -2 + 1; // note we flip Y\n    }\n\n    clearPickPosition() {\n        // unlike the mouse which always has a position\n        // if the user stops touching the screen we want\n        // to stop picking. For now we just pick a value\n        // unlikely to pick something\n        this.pickPosition.x = -100000;\n        this.pickPosition.y = -100000;\n        //console.log(this.pickPosition);\n    }\n\n    getEmissive(obj) {\n        if (!(obj.material instanceof THREE.MeshPhongMaterial)) {\n            return;\n        }\n        obj.material.emissive.getHex();\n    }\n\n    setEmissive(obj, color) {\n        if (!(obj.material instanceof THREE.MeshPhongMaterial)) {\n            return;\n        }\n        obj.material.emissive.setHex(color);\n    }\n\n    pick(scene, camera, time) {\n        // Store previous data for restoring color.\n        this.prevPicked = this.pickedObject;\n        this.prevColor = this.pickedObjectSavedColor;\n\n        var normalizedPosition = this.pickPosition;\n\n        this.raycaster.setFromCamera(normalizedPosition, camera);\n        var intersectedObjects = this.raycaster.intersectObjects(scene.children);\n\n        var max_jumps = -1;\n        while (intersectedObjects.length && max_jumps !== 0) {\n            // pick the first object. It's the closest one\n            var pickedObject = intersectedObjects[0].object;\n            if (pickedObject instanceof PortalMesh) {\n                //this.raycaster.setFromCamera(normalizedPosition, camera);\n                //this.raycaster.setFromCamera(intersectedObjects[0].uv, pickedObject.material.camera);\n                intersectedObjects = this.raycaster.intersectObjects(pickedObject.material.scene.children);\n                max_jumps--;\n            } else {\n                break;\n            }\n        }\n\n        // New valid picked object.\n        this.pickedObject = pickedObject;\n        if (pickedObject && !pickedObject.clicked) {\n            if (pickedObject !== this.prevPicked) {\n                this.pickedObjectSavedColor = this.getEmissive(pickedObject);\n            }\n\n            // Set its emissive color to flashing red/yellow:\n\n            // Blink.\n            //pickedObject.material.emissive.setHex((time * 1000) % 2 > 1 ? 0xFFFF00 : 0xFF0000);\n\n            // Highlight on hover only.\n            if (!this.mousedown && !this.mobile) {\n                // Smooth transition between red and orange.\n                this.setEmissive(pickedObject, (0xFF0000 + ((((Math.cos(time * 2000) + 1) / 2) * 0xFF) << 8)));\n            }\n        }\n\n        // Handle click events.\n        // We put this here to handle the case the click comes in the middle of executing this fn.\n\n        // If there's a click, set to white no matter what.\n        if (this.clicked && this.pickedObject) {\n            this.setEmissive(this.pickedObject, 0xFFFFFF);\n            this.pickedObject.clicked = true;\n            this.pickedObjectSavedColor = 0xFFFFFF;\n        }\n        this.clicked = false;\n\n        // No picked object, reset the color of the last touched item.\n        if (this.prevPicked && this.prevPicked != pickedObject && !this.prevPicked.clicked) {\n            this.setEmissive(this.prevPicked, this.prevColor);\n        }\n    }\n\n    clickHandler(e) {\n        this.mousedown = false;\n        //mouse is up, reset down position\n        this.mousedownPosition = { x: -1, y: -1 };\n    }\n}\n\n\nexport { Controls, ObjectPicker };","import * as THREE from 'three';\nimport {PortalMaterial} from './PortalMaterial.js';\n\nclass PortalMesh extends THREE.Mesh {\n  constructor(geometry, portal_material, options = {}) {\n    /** Renders as the scene associated with input portal_material.\n         * Gives the appearance of the mesh acting as a portal.\n         *\n         * Params:\n         * ----------\n         * geometry: THREE.Geometry\n         *      Geometry that scene render gets projected to\n         * portal_material: PortalMaterial\n         *      Portal material to be rendered to this Mesh.\n         *\n         * Options:\n         * -----------\n         * show_wire_geometry: boolean (default=false)\n         *      Shows a wireframe alongside the mesh to show the geometry of the portal area.\n         * debug_width: int\n         * debug_height: int\n         *      Height and width of debug info to be rendered to.\n         */\n\n    console.assert(geometry instanceof THREE.BufferGeometry, 'geometry is not an instance of THREE.Geometry');\n    console.assert(portal_material instanceof PortalMaterial, 'portal_material is not an instance of PortalMaterial');\n\n    super(geometry, portal_material);\n\n    // call showDebugUVs() to enable.\n    this.show_debug_uvs = false;\n\n    // TODO: Allow debug rendering to be configurable.\n    this.debug_width = options.debug_width || this.resolution_width / 4;\n    this.debug_height = options.debug_height || this.resolution_height / 4;\n\n    this.debug_renderer = new THREE.WebGLRenderer({antialias: true});\n    this.debug_renderer.setSize(this.debug_width, this.debug_height);\n\n    this.camera = this.material.camera;\n\n    // A wireframe showing the geometry.\n    this.wire = null;\n\n    // TODO: compute this properly.\n    this.is_planar = false;\n  }\n\n  wireGeometry() {\n    const wireframe = new THREE.WireframeGeometry(this.geometry);\n    const line = new THREE.LineSegments(wireframe);\n    line.material.depthTest = true;\n    // line.material.opacity = 0.5;\n    line.material.color = new THREE.Color(0x0088ff);\n    // line.material.transparent = true;\n    return line;\n  }\n\n  update() {\n    this.material.update();\n  }\n\n  isPortal() {\n    return true;\n  }\n\n  getScene() {\n    return this.portal_material.getScene();\n  }\n\n  getScreenGeometry() {\n    return this.screen_geometry;\n  }\n\n  getBufferImage() {\n    return this.portal_material.getBufferImage();\n  }\n\n  linkTwin(twin_p_mesh) {\n    this.twin = twin_p_mesh;\n  }\n\n  /**\n     * Returns true if any face is visible. Used for optimization.\n     */\n  isVisible(camera) {\n    let cam_vec = new THREE.Vector3();\n    camera.getWorldDirection(cam_vec);\n\n    // assume true: if (this.isPlanar()) {\n    let geo_vec = this.geometry.faces[0].normal;\n    return cam_vec.dot(geo_vec) < 0;\n  }\n\n  /**\n     * True if the geometry is coplanar.\n     * This technically only checks the normals so translations of the same plane are valid.\n     * Allows for optimizations in rendering.\n     */\n  isPlanar() {\n    // TODO: Allow this to be computed instead of manually set.\n    return this.is_planar;\n  }\n\n  getClippingPlane() {\n    if (!this.isPlanar) {\n      console.warn('Generating single clipping plane for non-planar geometry.');\n    }\n    const tri = this.geometry.faces[0];\n    const verts = this.geometry.vertices;\n    const pts = [verts[tri.a], verts[tri.b], verts[tri.c]];\n    const a = new THREE.Vector3(pts[0].x, pts[0].y, pts[0].z);\n    const b = new THREE.Vector3(pts[1].x, pts[1].y, pts[1].z);\n    const c = new THREE.Vector3(pts[2].x, pts[2].y, pts[2].z);\n    const ab = b.sub(a);\n    const ac = c.sub(a);\n    const cross = ab.cross(ac).normalize();\n    return new THREE.Plane(cross, -(a.x * cross.x + a.y * cross.y + a.z * cross.z));\n  }\n\n  /**\n     * Render the internal portal scene to this Mesh.\n     * This function is called implicitly by THREE.js.\n     * Input args are for the full scene,\n     *  **not** the args to the portal scene we are renderering.\n     *\n     * @param {THREE.WebGLRenderer} renderer\n     *    The renderer of the full scene (not the internal portal scene).\n     * @param {THREE.Scene} scene\n     *    The full scene being rendered that this is part of.\n     * @param {THREE.Camera} camera\n     *    Main camera of the scene.\n     * @param {THREE.Geometry} geometry\n     *    The geometry of the portal mesh.\n     * @param {THREE.Material} material\n     *    The material of the rendered object (this).\n     * @param {THREE.Group} group\n     *    The group this portal belongs to (if any).\n     */\n  onBeforeRender(renderer, scene, camera, geometry, material, group) {\n    // TODO: disabled temporarily.\n    // if (window._FREEZE_ALL_PORTALS) {\n    //   if (this.material instanceof PortalMaterial) {\n    //     this.material.uniforms[\"frozen\"].value = true;\n    //   }\n    //   return;\n    // }\n    // if (this.material instanceof PortalMaterial) {\n    //   this.material.uniforms[\"frozen\"].value = false;\n    // }\n\n    this.update();\n\n    // Render the internal scene of the portal to this mesh's texture.\n    this.material.onBeforeRender(renderer, scene, camera, geometry, material, group);\n\n    // XXX FIXME This is broken. Causing infinite recursion.\n    // if (this.show_debug_uvs) {\n    //   const ctx = this.debug_canvas2d.getContext('2d');\n    //   ctx.clearRect(0, 0, this.debug_canvas2d.width, this.debug_canvas2d.height);\n    //   this.debug_renderer.render(this.material.scene, this.camera);\n    // }\n\n    // Compute UVs for where the mesh is on the screen.\n    const face_uvs = this.geometry.getAttribute( 'uv' ).array;\n    const face_idx = this.geometry.index.array;\n    const vertices = this.geometry.getAttribute('position').array;\n\n    // Process each tri:\n    for (let i = 0; i < vertices.length/3; i++) {\n      const tri_vertices = face_idx.slice(i * 2, (i + 1) * 3);\n      const tri_geometry = [vertices[tri_vertices[0]], vertices[tri_vertices[1]], vertices[tri_vertices[2]]];\n      const uvs = [];\n\n      // Process each vertex:\n      for (let j = 0; j < 3; j++) {\n        // Project to camera.\n        const vertex = new THREE.Vector3().fromArray(tri_geometry.slice(j * 3, (j+1) * 3));\n        const projected = vertex.project(this.camera);\n        projected.x = (projected.x + 1) / 2;\n        projected.y = -(projected.y - 1) / 2;\n\n        // Push point to debug viz.\n        if (this.show_debug_uvs) {\n          uvs.push({x: projected.x * this.debug_width, y: projected.y * this.debug_height});\n        }\n\n        // Set the UVs.\n        face_uvs[2 * j] = projected.x;\n        face_uvs[2 *  + 1] = projected.y;\n      }\n\n      // Draw debug viz.\n      if (this.show_debug_uvs) {\n        this._drawTriangle(this.debug_canvas2d, uvs[0], uvs[1], uvs[2]);\n      }\n    }\n    this.geometry.uvsNeedUpdate = true;\n  }\n\n  /**\n     * Draws a 2D triangle on a canvas.\n     * Used in debugging portal UVs.\n     */\n  _drawTriangle(canvas, a, b, c) {\n    if (!canvas.getContext) {\n      console.error('cannot get context for ', canvas);\n      return;\n    }\n\n    const ctx = canvas.getContext('2d');\n    ctx.strokeStyle = '#FF0000';\n    ctx.beginPath();\n    ctx.moveTo(a.x, a.y);\n    ctx.lineTo(b.x, b.y);\n    ctx.lineTo(c.x, c.y);\n    ctx.lineTo(a.x, a.y);\n    ctx.stroke();\n  }\n\n  renderDebugUVs(show=true, container=undefined) {\n    \n    console.assert(show !== undefined && typeof(show) == 'boolean',\n        'showDebugUVs takes boolean input.',\n    );\n\n    if (container === undefined) {\n      console.warn(\"No container provided for renderDebugUVs. Appending to default 'debug_container'\");\n      container = document.body;\n    }\n    this.show_debug_uvs = show;\n\n    if (!this.debug_dom_el) {\n      if (!this.debug_height || !this.debug_width) {\n        console.error('Debugging window dimensions not set. Include debug_{height, width} in constructor options.');\n      }\n\n    // Create container.\n    const div = document.createElement('div');\n    div.classList.add('debug_container');\n    div.appendChild(this.debug_renderer.domElement);\n\n    // Create a canvas element with the specified height and width.\n    const canvas = document.createElement('canvas');\n    canvas.setAttribute('height', this.debug_height);\n    canvas.setAttribute('width', this.debug_width);\n    canvas.classList.add('overlay', 'debug-portal-window');\n    this.debug_canvas2d = canvas;\n\n    div.appendChild(canvas);\n    container.appendChild(div);\n    }\n  }\n}\n\nexport {PortalMesh};\n","import * as THREE from 'three';\n\n/** Represents an animated material derived from rendering an offscreen scene.\n *\n * Params:\n *\n * scene: THREE.Scene\n *      Scene to render inside the window.\n * renderer: THREE.Renderer\n *      Renderer to use for rendering the scene.\n *\n * Options:\n *\n * transform: THREE.Euler\n *      Rotation of the scene so it appears in the correct orientation for target portal geometry\n *\n * antialias: boolean (default=true)\n *      Renders with anti-aliasing if true\n *\n * resolution_width: int\n * resolution_height: int\n *      Height and width resolution of the render. Should usually be the same as the main window.\n */\nclass PortalMaterial extends THREE.MeshBasicMaterial {\n  constructor(scene, camera, renderer, options = {}) {\n    console.assert(scene instanceof THREE.Scene, 'scene is not instance of THREE.Scene.');\n    console.assert(camera instanceof THREE.Camera, 'camera is not instance of THREE.Camera');\n    console.assert(renderer instanceof THREE.WebGLRenderer, 'renderer is not an instance of THREE.WebGLRenderer');\n\n    const name = options.name || '';\n\n    super();\n    // TODO: load shaders from file.\n    // var loader = new THREE.FileLoader();\n    // loader.load('shaders/portal.frag',function ( data ) {fShader =  data;},);\n    // loader.load('shaders/portal.vertex',function ( data ) {vShader =  data;},);\n    const clock = new THREE.Clock();\n\n    const antialias = options.antialias || false;\n    const resolution_width = options.resolution_width || 1024;\n    const resolution_height = options.resolution_height || 1024;\n\n    const buffer_texture = new THREE.WebGLRenderTarget(resolution_width, resolution_height, {minFilter: THREE.LinearFilter, magFilter: THREE.NearestFilter});\n    buffer_texture.name = name;\n    buffer_texture.texture.image.name = name;\n\n    const alpha_buffer_texture = new THREE.WebGLRenderTarget(resolution_width, resolution_height, {minFilter: THREE.LinearFilter, magFilter: THREE.NearestFilter});\n    alpha_buffer_texture.name = name;\n    alpha_buffer_texture.texture.image.name = name;\n\n    const dims = new THREE.Vector2();\n    renderer.getDrawingBufferSize(dims);\n    renderer.setPixelRatio(window.devicePixelRatio);\n    // renderer.alpha = true;\n\n    this.name = name;\n    this.clock = clock;\n\n    this.max_depth = 1;\n    this.depth_remaining = this.max_depth;\n\n    this.scene = scene;\n    this.camera = camera;\n    this.renderer = renderer;\n\n    // XXX TODO.\n    this.transform = this.transform;\n\n    this.antialias = antialias;\n    this.resolution_width = resolution_width;\n    this.resolution_height = resolution_height;\n\n    this.buffer_texture = buffer_texture;\n\n    // @super member variables\n    this.map = this.buffer_texture.texture;\n    // this.alphaMap = alpha_buffer_texture.texture\n    this.clippingPlanes = options.clipping_plane ? [options.clipping_plane] : [];\n    this.clipShadows = options.clip_shadows | false;\n\n    window.addEventListener('resize', this.onWindowResize.bind(this), false);\n  }\n\n  onWindowResize() {\n    const dims = new THREE.Vector2();\n    this.renderer.getDrawingBufferSize(dims);\n  }\n\n  getScene() {\n    return this.scene;\n  }\n\n  getBufferImage() {\n    return this.buffer_image;\n  }\n\n  setCamera(cam) {\n    this.camera = cam;\n  }\n\n  update() {\n  }\n\n  /**\n   * @override\n   * Removes affine correction (already applied when rendering internal portal scene).\n   */\n  onBeforeCompile(shader, renderer) {\n    const dims = new THREE.Vector2();\n    renderer.getDrawingBufferSize(dims);\n    renderer.setPixelRatio(window.devicePixelRatio);\n\n    // TODO: Input dimensions as uniforms for screen resizing.\n    shader.fragmentShader =\n      shader.fragmentShader.replace(\n        '#include <map_fragment>',\n        `vec4 texelColor = texture2D( map, gl_FragCoord.xy / vec2(${dims.x}, ${dims.y}) ); \\\n        texelColor = mapTexelToLinear( texelColor ); \\\n        diffuseColor *= texelColor;`,\n      );\n  }\n\n  /**\n   * Render the internal portal scene to this material's buffer texture map.\n   * Signature follows the same as THREE's onBeforeRender, which is implicitly\n   * invoked in PortalMesh. PortalMesh calls onBeforeRender to its material here.\n   * It should be noted that the args input are the args of the full scene,\n   *  **not** the args of the internal portal scene we are renderering.\n   *\n   * @param {THREE.WebGLRenderer} renderer\n   *    The renderer of the full scene (not the internal portal scene).\n   * @param {THREE.Scene} scene\n   *    The full scene being rendered that this is part of.\n   * @param {THREE.Camera} camera\n   *    Main camera of the scene.\n   * @param {THREE.Geometry} geometry\n   *    The geometry of the portal mesh.\n   * @param {THREE.Material} material\n   *    The material of the rendered object (this).\n   * @param {THREE.Group} group\n   *    The group this portal belongs to (if any).\n   */\n  onBeforeRender(renderer, scene, camera, geometry, material, group) {\n    console.assert(scene !== undefined, \"No scene for portal material onBeforeRender\");\n\n    // Default to depth 1 if not specified.\n    scene.depth = scene.depth || 1;\n\n    if (scene) {\n      if (scene.depth > scene.max_depth) {\n        scene.depth = 1;\n        return;\n      }\n      scene.depth++;\n    }\n\n    const initial = this.renderer.getRenderTarget();\n    this.renderer.setRenderTarget(this.buffer_texture);\n    // this.alphaMap = this.buffer_texture;\n\n    // this.renderer.getDrawingBufferSize(dims);\n\n    // this.renderer.setSize(this.resolution_width, this.resolution_height);\n\n    if (!this.scene.max_depth) {\n      this.scene.max_depth = this.max_depth - 1;\n    }\n    this.renderer.render(this.scene, this.camera);\n    this.buffer_texture.texture.needsUpdate = false;\n\n    this.renderer.setRenderTarget(initial);\n    // this.renderer.setSize(dims);\n  }\n}\n\nexport {PortalMaterial};\n"],"names":[],"version":3,"file":"standalone_demo.c0d93bfa.js.map","sourceRoot":"/__parcel_source_root/"}